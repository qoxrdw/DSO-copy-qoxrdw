# ADR-001: <RateLimiting>
Дата: 2025-11-03
Статус: Accepted

## Context
NFR-06 (Отзыв сессий при смене пароля) требует, чтобы отзыв происходил менее 1 секунды после смены пароля.

## Decision
Использовать Token Blacklist на основе Redis. При смене пароля все существующие токены пользователя заносятся в Blacklist. Сервис P1 (Авторизация) при каждой валидации токена проверяет его наличие в Blacklist.
## Consequences
Положительные:
1. Мгновенное исполнение NFR-06, так как Blacklist проверяется доступом к быстрой памяти (Redis).
2. Повышает безопасность.


Отрицательные:
1. Требует дополнительный сетевой запрос к Redis при каждой валидации токена, что может немного увеличить задержку.
2. Создает единую точку отказа.

## Links
- NFR-06
